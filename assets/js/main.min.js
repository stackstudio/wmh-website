!function(a){var b=(a(window).width(),a(window).height(),a(".case-study")),c=(a("header").outerHeight()/4,a("article.case-studies #work-area")),d=(a("#related-work .inner-wrap"),"http://"+top.location.host.toString()+"/wp-json/posts/",a("#taxonomies ul")),e=a("#work-area").data("current-id"),f=(a("#work-area").data("taxonomy-type"),a("#work-area").data("taxonomy-award")),g=a(window).width(),h=a(window).height();a(".generic-bg, .full-screen-quote, .quote-image, .fact-image, .quote-fact").css({height:h,width:g});var j=function(){var c=a(window),d=c.width(),e=c.height();if(580>=d)a("body").addClass("menu-closed"),a("#site-navigation").addClass("mobile"),a("#socials").appendTo(".menu-the-menu-container"),b.css("height","320px");else{a("body").addClass("menu-closed");c.height(),a("footer").outerHeight(),a(".site-header").outerHeight(),parseInt("22");a("#full-screen-video").css("width",c.width()+60),a("#full-screen-video").css("height",e),a(".generic-bg").css({height:c.height(),width:c.width()}),a("#socials").appendTo(".menu-the-menu-container"),a("#site-navigation").removeClass("mobile"),a("body").addClass("filter-closed")}};a(window).on("resize",function(){a(".case-study").height(a(window).height()/2),j()}).resize();var k=function(){a(function(){var b=function(a){var b=[];for(i=1;i<=a;i++)b.push("<div></div>");return b};a(".loader-inner.ball-pulse").html(b(3)),a(".loader-inner.ball-grid-pulse").html(b(9)),a(".loader-inner.ball-clip-rotate").html(b(1)),a(".loader-inner.ball-clip-rotate-pulse").html(b(2)),a(".loader-inner.square-spin").html(b(1)),a(".loader-inner.ball-clip-rotate-multiple").html(b(2)),a(".loader-inner.ball-pulse-rise").html(b(5)),a(".loader-inner.ball-rotate").html(b(1)),a(".loader-inner.cube-transition").html(b(2)),a(".loader-inner.ball-zig-zag").html(b(2)),a(".loader-inner.ball-zig-zag-deflect").html(b(2)),a(".loader-inner.ball-triangle-path").html(b(3)),a(".loader-inner.ball-scale").html(b(1)),a(".loader-inner.line-scale").html(b(5)),a(".loader-inner.line-scale-party").html(b(4)),a(".loader-inner.ball-scale-multiple").html(b(3)),a(".loader-inner.ball-pulse-sync").html(b(3)),a(".loader-inner.ball-beat").html(b(3)),a(".loader-inner.line-scale-pulse-out").html(b(5)),a(".loader-inner.line-scale-pulse-out-rapid").html(b(5)),a(".loader-inner.ball-scale-ripple").html(b(1)),a(".loader-inner.ball-scale-ripple-multiple").html(b(3)),a(".loader-inner.ball-spin-fade-loader").html(b(8)),a(".loader-inner.line-spin-fade-loader").html(b(8)),a(".loader-inner.triangle-skew-spin").html(b(1)),a(".loader-inner.pacman").html(b(5)),a(".loader-inner.ball-grid-beat").html(b(9)),a(".loader-inner.semi-circle-spin").html(b(1))})},l=function(){function b(a){window.location=a}"http://"+top.location.host.toString();a(".menu-item a").on("click",function(c){a("body").hasClass("menu-open")&&(a("body").css("overflow","inherit"),a(this).find("img").attr("src",mobileMenu),a("body").addClass("menu-closed"),a("body").removeClass("menu-open"),a(".hidden-menu").transition({right:"-50%"}),a("#socials").removeClass("open"),a(".menu-the-menu-container ul li").removeClass("is--menu-active")),c.preventDefault();var d=a(this).attr("href");a(".loader").fadeIn(100),a(".content-area").fadeOut(500,function(){a(".loader").fadeOut(100),b(d)})})},m=window.location.href,n=m.replace(/\/$/,""),o=n.substr(n.lastIndexOf("/")),p=o.replace("/","");"services-offered"===p?window.setTimeout(function(){a(".work-block .entry-content").removeClass("up").addClass("down")},500):"who-we-are"===p?window.setTimeout(function(){a(".work-block .entry-content").removeClass("up").addClass("down")},500):"us"===p&&window.setTimeout(function(){a(".work-block .entry-content").removeClass("up").addClass("down")},500);var q=function(){var b=0;a(window).scroll(function(){var c=a(this).scrollTop(),d=a(window).width();580>=d?a("body").addClass("mobile-active"):c>500&&c>b?a(".case-studies .entry-content").removeClass("down").addClass("up"):500>c&&b>c&&a(".case-studies .entry-content").removeClass("up").addClass("down"),b=c})},r=function(){a.each(a(b),function(){var b=a(this).find(".module");a(this).hover(function(){b.addClass("on")},function(){b.removeClass("on")})})};c.html('<div class="load"><div class="loader-inner ball-pulse"></div></div>'),a(".load").css("height",a(window).height());var s=function(){a.ajax({url:"/wp-json/posts?type=case-studies&filter[taxonomy]=awards&filter[term]="+f,success:function(b){var c=b,d=[];a.each(c,function(b,c){d.push(c),console.log(c),a("#main-work").show(),c.ID===e||setTimeout(function(){var b=a('<article class="similar-project"><a href="'+c.link+'"><img src="'+c.meta.main_image.url+'" alt="'+c.meta.main_image.title+' image"></a><h3><a href="'+c.link+'">'+c.title+"</a></h3></article>");a("#related-work #main-work").slick("slickAdd",b)},1e3*(b+1))})},cache:!1})},t=function(){a("body.single-case-studies").length&&a.ajax({url:"/wp-json/posts?type=case-studies",data:{filter:{name:p}},success:function(b){a(".load").remove(),window.setTimeout(function(){a(".case-studies .entry-content").removeClass("up").addClass("down")},25);for(var d="",e=b[0],f=(e.content,e.title,e.meta.main_image),g="<section class='col null work-block'><img src='"+f.url+"' alt='"+f.title+" image'></section>",h=e.meta.work_content,i=[],j=e.terms,k=[],l=0;l<j.length;l++){j[l];k.push(j[l])}for(var l=0;l<h.length;l++){var m=h[l];i.push(m.acf_fc_layout);for(var n in m)if(m.hasOwnProperty(n))if("gallery"===m[n]){var o=m.images;d+="<section class='gallery work-block'>",a.each(o,function(b,c){d+="<article id='"+b+"-image' class='col half-col-images'><img src='"+a(this)[0].url+"' alt='"+a(this)[0].title+"'></article>"}),d+="</section>"}else if("content_area"===m[n])d+="<section class='the-content work-block'>",d+="<td>"+m.text+"</td>",d+="</section>";else if("full_screen_video"===m[n]){var p=m.video_url;d+="<section id='full-screen' class='col col-video work-block'>",d+="<iframe type='text/html' src='"+p+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>",d+="</section>"}else if("2_column_images"===m[n]){var q=m.image_1,r=m.image_2;d+="<section class='col col-image work-block'><img src='"+q.url+"' alt='"+q.title+" image' /><img src='"+q.url+"' alt='"+r.title+"' /></section>"}else if("single_full_image"===m[n]){var s=m.image;d+="<section class='col col-full-image work-block'><img src='"+s.url+"' alt='"+s.title+" image'></section>"}else if("full_screen_quote"===m[n]){var t=m.quote;d+="<section class='col full-screen-quote work-block'><article class='block'><div class='wrap'>"+t+"</div></article></section>"}else if("quote_with_image"===m[n]){var u=m.quote_text,v=m.image.url;m.image.title;d+="<section class='col quote-image work-block'><article class='block'><div class='wrap'><div class='col-1-2'>"+u+"</div><div class='col-1-2'><img src='"+v+"' alt=''></div></div></article></section>"}else if("fact_with_image"===m[n]){var w=m.fact,x=m.image.url;m.image.title;d+="<section class='col fact-image work-block'><article class='block'><div class='wrap'><div class='col-1-2'>"+w+"</div><div class='col-1-2'><img src='"+x+"' alt=''></div></div></article></section>"}else if("quote_with_fact"===m[n]){var y=m.fact,t=m.quote;d+="<section class='col quote-fact work-block'><article class='block'><div class='wrap'><div class='col-1-2'>"+y+"</div><div class='col-1-2'>"+t+"</div></div></article></section>"}}a("#work-area").prepend(a(g).addClass("fade-in")),c.append(a(d).addClass("fade-in"));var z=(a(window).width(),a(window).height(),a(".gallery"));a(".col-video").fitVids(),a.each(z,function(b){a(this).slick({dots:!1,arrows:!0,speed:500})})},cache:!1})},u=function(){"our-work"===p&&(a("#our-work").html('<div class="load"><div class="loader-inner ball-pulse"></div></div>'),a(".load").css("height",a(window).height()),a.ajax({url:"/wp-json/posts?type=case-studies",success:function(b){a(".load").remove();var c=b;a.each(c,function(b,c){slugs=[],console.log(c);for(var d=0;d<c.terms.sectors.length;d++){var e=c.terms.sectors[d].slug;slugs.push(e)}var f=slugs.join(" "),g=a("#our-work"),h=(a("<?php _basetheme_post_thumbnail_helper(); ?>"),a("<article data-index='"+b+"' id='post-"+c.ID+"' style='background-image: url("+c.meta.main_image.url+");' class='"+f+" col-1-4 project "+c.type+"'><a href='"+c.link+"' title='Link to "+c.title+"'><div class='block'><div class='wrap'><h1 class=''>"+c.title+"</h1></div></div></a></article>"));setTimeout(function(){g.append(h).isotope("insert",h)},500*(b+1))})},cache:!1}).then(function(){$container=a("#our-work"),$container.isotope({itemSelector:".project",layoutMode:"fitRows"})}))},v=function(){if("us"===p){L.mapbox.accessToken="pk.eyJ1IjoibWR1bmJhdmFuIiwiYSI6ImJkODFlZDZjMzU5N2Y0OTI5ZjcyYWMzMTdiNjY0NzhjIn0.2KGkXkLyyxtuxqj4hh_N1Q";var a=L.mapbox.map("map","mapbox.streets",{zoomControl:!1}).setView([51.52418674357502,-.10686993598937988],16);L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[-.10686993598937988,51.52418674357502]},properties:{title:"WMH HQ",description:"The place where dreams come true!!","marker-size":"large","marker-color":"#ff0000","marker-symbol":"commercial"}}).addTo(a)}},w=function(){var b=!1;a("#menu-button img").on("click",function(c){return a("body").css("overflow","hidden"),b||(b=!0,setTimeout(function(){b=!1},100),a("body").hasClass("menu-closed")?(a("body").css("overflow","hidden"),a("#site-navigation").addClass("mobile"),a("body").removeClass("menu-closed"),a("body").addClass("menu-open"),a(this).find("img").attr("src",mobileMenuActive),a(".hidden-menu").transition({right:"0px"}),window.setTimeout(function(){a("#socials").addClass("open"),a(".menu-the-menu-container ul li").addClass("is--menu-active")},750)):(a("body").css("overflow","inherit"),a(this).find("img").attr("src",mobileMenu),a("body").addClass("menu-closed"),a("body").removeClass("menu-open"),a(".hidden-menu").transition({right:"-50%"}),a("#socials").removeClass("open"),a(".menu-the-menu-container ul li").removeClass("is--menu-active"))),!1})},x=function(){a.fn.hideReveal=function(b){b=a.extend({filter:"*",hiddenStyle:{opacity:.2},visibleStyle:{opacity:1}},b),this.each(function(){var c=a(this).children(),d=c.filter(b.filter),e=c.not(b.filter);d.addClass("this-visible").removeClass("this-hidden"),e.addClass("this-hidden").removeClass("this-visible")})},a(".secondary-nav ul").on("click","li",function(){var b=a(this).attr("data-filter"),c=a(this),d=a("#our-work");d.children();c.addClass("active").siblings(c.parent()).removeClass("active"),a("#our-work").isotope({filter:b})})},y=function(){0===d.children().length&&d.parent().hide()},z=function(){a("#work-area").waitForImages({finished:function(){console.log("done")},each:function(){console.log("image")},waitForAll:!0})},A=function(){var b=!1;a("#work-filter").on("click",function(c){if(a("body").css("overflow","hidden"),!b)if(b=!0,setTimeout(function(){b=!1},100),a("body").hasClass("filter-closed"))a("body").css("overflow","hidden"),a(this).find("img").removeClass("spin").fadeIn(),a(this).addClass("active"),a("body").removeClass("filter-closed"),a(".hidden-filter").transition({left:"0px"});else{var d=a(this);a("body").css("overflow","inherit"),window.setTimeout(function(){a("body").addClass("filter-closed"),d.removeClass("active"),a(".hidden-filter").transition({left:"-50%"})},1100),a(this).find("img").addClass("spin").fadeOut(500)}return!1})},B=function(){var b={videoId:"eTOsAJyF1jk",start:0,repeat:!0,playButtonClass:"wmh-play",pauseButtonClass:"wmh-pause"};a("#showreel").tubular(b);var c=a(".controls ul li.wmh-play"),d=a(".controls ul li.wmh-pause");c.on("click",function(){a(this).toggleClass("active"),d.removeClass("active")}),d.on("click",function(){a(this).toggleClass("active"),c.removeClass("active")})},C=function(){a("#related-work #main-work").slick({infinite:!0,slidesToShow:4,slidesToScroll:2})};j(),q(),r(),u(),t(),s(),l(),k(),w(),v(),x(),y(),z(),A(),B(),C()}(jQuery);
//# sourceMappingURL=main.min.js.map